<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            function getRandomIntInclusive(min, max) {
                min = Math.ceil(min);
                max = Math.floor(max);
                return Math.floor(Math.random() * (max - min + 1)) + min; //Il max è incluso e il min è incluso 
              }
            function computerPlay() {
                let play = getRandomIntInclusive(1,3);
                let returnVal = play;
                //switch (play) {
                //    case 1:
                //        returnVal = "rock";
                //    case 2:
                //        returnVal = "paper";
                //    case 3:
                //        returnVal = "scissors";
                
                return returnVal;
            } 
            function playerPlay() {
                let play = prompt("Select your play: ", "")
                let returnVal;

                switch (play.toLowerCase()) {
                    case "rock":
                        returnVal = 1;
                        break;
                    case "paper":
                        returnVal = 2;
                        break;
                    case "scissor":
                        returnVal = 3;
                        break;
                    default:
                        returnVal = 0;
                } 
                return returnVal;

            }

            function roundWinner(pPlay, cPlay) {
                if (pPlay != cPlay) {
                    if ((pPlay == 1 && cPlay == 3) ||
                        (pPlay == 2 && cPlay == 1) ||
                        (pPlay == 3 && cPlay == 2)) {
                            return 1;
                        }
                    else {
                        return 2;
                    }
                } else {
                    return 0;
                }
            }
            
            function playRound() {
                const plays = ["Error","Rock","Paper","Scissor"];
                let pPlay = playerPlay();
                if (pPlay == 0) {
                    console.log("Error: Play is not valid!");
                    return -1;
                }
                let cPlay = computerPlay();
                let rWin = roundWinner(pPlay,cPlay);
                
                console.log("Player select: " + plays[pPlay]);
                console.log("Computer select: " + plays[cPlay]);
                switch (rWin) {
                    case 0:
                        console.log("It's a draw!");
                    case 1:
                        console.log("Yeah! Player win the round");
                    case 2:
                        console.log("Ouch ... bot wins this round");
                }
                
                return rWin;
            }

            function game() {
                let pScore = 0;
                let cScore = 0;

                while (pScore < 5 && cScore < 5) {
                    let result = playRound();
                    if (result == 1) {
                        pScore++;
                    }
                    if (result == 2) {
                        cScore++;
                    }
                    console.log("Current score: Player ${pScore} - ${cScore} Computer")
                }
                

            }

            game();


//            function test() {
//                const plays = ["Error","Rock","Paper","Scissor"];
//                const winner = ["DRAW","PLAYER","BOT"];
//                let pPlay = playerPlay();
//                let cPlay = computerPlay();
//                let rWin = roundWinner(pPlay,cPlay);
//
//                if (play[pPlay] == "Error") {
//                    console.log("Error: Play is not valid!");
//                } else {
//                    console.log(plays[pPlay]);
//                    console.log(plays[cPlay]);
//                    console.log(winner[rWin]);
//                }
//
//            }   
//
//            test();
            
        </script>
    </head>
    <body>
        
    </body>
</html>